function timeComparison
% image content related
raw = im2double(imread('#dataset\#lowlight\LDR_TEST_IMAGES_DICM\37.jpg'));
raw = imresize(raw, [480, 640]);
mxn = size(raw, 1)*size(raw, 2); % m times n
methods = {@mf }; %  @srie @npe @multiscaleRetinex @dong @lime @ours_caip2017  @ours_mm2017_spedup 
sizes = linspace(2500,3981312./2,10);

M = numel(methods);
N = numel(sizes);


%%
% figure;
% % raw = im2double(imread('#dataset\#lowlight\LDR_TEST_IMAGES_DICM\37.jpg'));
% results1 = [
% 0.196580091628689	23.7022353892381	55.3445722070894	88.4531961705561	151.080209607482	247.030168216965	340.517727104656	441.638195656753	576.205218308983	705.400033389656
% 0.245991960566455	12.7554771240176	25.2693168048510	37.9982069634308	50.6029114092273	63.2490169187315	76.3412003942872	88.7830106319535	101.338048266134	113.837629840709
% 0.346516823052604	1.37475097132859	2.15198380661965	3.43941570513197	3.90625462384956	4.89498350557032	4.16873348033220	4.55402117832336	4.78613593989621	5.23977810946443
% 0.0584987974600959	0.500345799909776	0.920553412449942	1.32633717585590	1.73171471853997	2.11537030122713	2.49385410347720	2.86526580787749	3.23370077022221	3.57411494057515
% 0.0618968277717558	0.196765422299288	0.412721458850715	0.574158937775001	0.768311950995557	0.973871087601740	1.18082969678396	1.37352326864238	1.54986736049648	1.74481985708142
% 0.183187027444032,0.831069283598372,0.776798085818725,0.850472367624059,1.14059378192437,1.54313838939968,2.18794144148216,2.03948059149166,2.79859992345686,2.43445857780430
% % mm2016
% % 0.0170335460567811	0.172930391306877	0.397383613092241	0.589907825866315	0.750927632742716	0.933452728474295	1.12178063297506	1.28391754683668	1.58451816888476	1.80349434199023  
% ]*1000;
% 
% % raw = im2double(imread('#dataset\#lowlight\LDR_TEST_IMAGES_DICM\37.jpg'));
% results2 = [
% 0.196580091628689	23.7022353892381	55.3445722070894	88.4531961705561	151.080209607482	247.030168216965	340.517727104656	441.638195656753	576.205218308983	705.400033389656
% 0.245991960566455	12.7554771240176	25.2693168048510	37.9982069634308	50.6029114092273	63.2490169187315	76.3412003942872	88.7830106319535	101.338048266134	113.837629840709
% 0.280501387721154	2.11258260783091	6.78225042867174	6.03683412739310	8.87504964757006	15.5113756972508	8.92848670590256	9.46030032636309	11.6758581721859	9.79573015829966
% 0.0428023830833627	0.535186641714808	0.988217177607213	1.49167246767258	2.02139652060186	2.38754034335928	2.59858334915426	2.98787002130551	3.45025991519984	3.71927621527307
% 0.0834561338480408	0.238363784847471	0.524947640271336	0.808263645924680	0.978610410470138	1.09493187961632	1.57094856240526	1.85472201881033	2.06129237371135	2.05441524353678
% 0.0375438088952775	0.266059143138691	0.560934067424263	0.851481290625876	1.41433647039679	1.79387986342775	1.87676493721353	1.99412666986099	2.87975343464752	2.62569529199401
% % 0.0277767230494306	0.239163268934634	0.506962412495216	0.781889711577000	1.50008015935439	1.83409303909426	1.51850325007006	1.80550779142898	2.21545930406010	3.42884079327626
% ]*1000;
% 
% plot(sizes, (results1 + results2) ./2, '-o', 'linewidth', 3);

results = [
0.133160960586308	32.8738068762261	107.935436160307	192.553307778772	219.405363745672	234.088543842044	281.075534521259	370.007796853293	484.228477062672	551.499793875946
0.236158799899951	7.06844885622245	13.9910640400917	21.6727708316382	26.6807264968855	33.2090561989399	41.0651056687128	47.8253894207733	52.9964404425038	62.2055258724864
0.185480006870802	2.25113925729043	2.52883235544948	3.12894596476002	5.66303177143133	5.79348901123738	7.39129638167907	7.49421255488354	8.47739687016897	10.9855267162690
0.00994186940052254	0.261079619936174	0.568313549643050	0.761999041703959	1.00739635787234	1.19374003658401	1.41815277890784	1.65692730510880	1.87371978579974	2.31907852904571
0.0533611178915076	0.163656471963814	0.314421451366476	0.581910203442031	0.910149500209439	1.10456576833947	1.33491904206558	1.39156729618881	2.28103056000048	2.45791212003411
0.374286325597654	0.341199798697561	0.473084537983781	0.601465469700668	0.806365436250712	0.875460087572588	1.03518664171481	1.48039290137687	1.71951337847571	1.85258212566938
0.0189784805282080	0.641301956671760	1.02764232052290	1.23088576086596	1.38543721503500	1.64254442666474	1.93752813864555	2.20604600423699	2.06000590647874	2.22147939211485
% 0.00860598061107947	0.504048047396479	0.713633719966610	0.748475013485455	1.03469664505980	1.01437655007398	1.35752247324757	1.33973312359307	1.38038898381444	1.74366906843379
] * 1000;

figure;
plot(sizes, results, '-o', 'linewidth', 3);
grid on; 
ylim([0 5000]);
% ylim([0 35]);
legend({'SRIE' 'NPE' 'MSRCR' 'Dong' 'LIME' 'MF' 'Ours'});
xlabel('Image Size (width ¡Á height)');
ylabel('Run time (ms)');
% print(gcf, 'time_cost', '-depsc'); 

return;
%%


% function timeComparison



results = zeros(M, N);
for m = 1:M, method = methods{m}
    t = [];
    for sz = sizes
        img = imresize(raw, sqrt(sz/mxn));
        img = min(1, abs(img));
        img = im2uint8(img);
        tic
        dummy = method(img);
        %dummy = method(img);
        %dummy = method(img);
        t = [t toc];
        %ezFig(img, dummy); pause
    end
    results(m,:) = t; 
end

plot(sizes, results, 'linewidth', 5);
% CellStr = @(cellFun)cellfun(@char, cellFun, 'UniformOutput', false);
% legend(CellStr(methods));
grid on; 
ylim([0 20]);
legend({'LIME' 'Ours' 'Dong' 'MSRCR' 'NPE' 'SRIE'});



